**Q**：给定 $n$ 个物品，第 $i$ 个物品的重量为 $wgt[i−1]$、价值为 $val[i−1]$ ，和一个容量为 cap 的背包。每个物品只能选择一次，问在限定背包容量下能放入物品的最大价值。

### 判断是否为动态规划问题
- 可以看作为一个由 n 轮决策组成的过程，对于每个物体都有不放入和放入两种决策，因此该问题满足决策树模型。
- 该问题的目标是求解“在限定背包容量下能放入物品的最大价值”。

### 思考每轮的决策，定义状态，从而得到 dp 表
对于每个物品来说，不放入背包，背包容量不变；放入背包，背包容量减小。由此可得状态定义：当前物品编号 $i$ 和背包容量 $c$ ，记为 $[i,c]$ 。
状态 $[i,c]$ 对应的子问题为：**前 $i$ 个物品在容量为 $c$ 的背包中的最大价值**，记为 $dp[i,c]$ 。
待求解的是 $dp[n,cap]$ ，因此需要一个尺寸为 $(n+1)×(cap+1)$ 的二维 dp 表。

### 找出最优子结构，进而推导出状态转移方程
当做出物品 $i$ 的决策后，剩余的是前 $i−1$ 个物品决策的子问题，可分为以下两种情况。
- **不放入物品 $i$** ：背包容量不变，状态变化为 $[i−1,c]$ 。
- **放入物品 $i$** ：背包容量减少 $wgt[i−1]$ ，价值增加 $val[i−1]$ ，状态变化为 $[i−1,c−wgt[i−1]]$ 。
上述分析揭示了本题的最优子结构：**最大价值 $dp[i,c]$ 等于不放入物品 $i$ 和放入物品 $i$ 两种方案中价值更大的那一个**。由此可推导出状态转移方程：$$dp[i,c]=max(dp[i−1,c],dp[i−1,c−wgt[i−1]]+val[i−1])$$
需要注意的是，若当前物品重量 $wgt[i−1]$ 超出剩余背包容量 $c$ ，则只能选择不放入背包。

### 确定边界条件和状态转移顺序
当无物品或背包容量为 0 时最大价值为 0 ，即首列 $dp[i,0]$ 和首行 $dp[0,c]$ 都等于 0 。
当前状态 $[i,c]$ 从上方的状态 $[i−1,c]$ 和左上方的状态 $[i−1,c−wgt[i−1]]$ 转移而来，因此通过两层循环正序遍历整个 dp 表即可。

### 代码实现