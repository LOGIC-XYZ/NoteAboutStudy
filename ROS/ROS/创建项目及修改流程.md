## ✅ 一、创建工作空间并编译

`mkdir -p ~/catkin_ws/src cd ~/catkin_ws catkin_make`

> `catkin_ws` 为工作空间名称，可自定义。

---

## ✅ 二、创建功能包

`cd ~/catkin_ws/src catkin_create_pkg pkg01_helloworld_cpp roscpp std_msgs`

- `pkg01_helloworld_cpp`：包名（功能包名称）
    
- 后面是依赖项（最常见的是 `roscpp` 和 `std_msgs`）
    

> 如果你需要额外依赖如 `geometry_msgs`、`nav_msgs` 等，可以继续追加。

---

## ✅ 三、功能包目录结构说明

`catkin_create_pkg` 执行完毕后会自动创建以下目录结构：


`pkg01_helloworld_cpp/ ├── CMakeLists.txt        ← 构建配置文件 ├── package.xml           ← 功能包声明与依赖 └── src/                  ← 可放置你的源码（手动创建）`

---

## ✅ 四、编写 package.xml

### 示例（内容精简，仅保留关键字段）：



`<?xml version="1.0"?> <package format="2">   <name>pkg01_helloworld_cpp</name>   <version>0.0.0</version>   <description>My First ROS1 C++ Package</description>    <maintainer email="your@email.com">YourName</maintainer>   <license>MIT</license>    <buildtool_depend>catkin</buildtool_depend>   <build_depend>roscpp</build_depend>   <build_depend>std_msgs</build_depend>    <exec_depend>roscpp</exec_depend>   <exec_depend>std_msgs</exec_depend>    <export>   </export> </package>`

---

## ✅ 五、编写 CMakeLists.txt（只展示需要修改的部分）

### 必填项如下：


`cmake_minimum_required(VERSION 3.0.2) project(pkg01_helloworld_cpp)  ## 编译选项 add_compile_options(-Wall -Wextra -Wpedantic)  ## 找依赖 find_package(catkin REQUIRED COMPONENTS   roscpp   std_msgs )  ## 声明 catkin 包 catkin_package()  ## 添加可执行文件（指定源文件） add_executable(hellonode src/hellonode.cpp)  ## 指定目标依赖 target_link_libraries(hellonode   ${catkin_LIBRARIES} )  ## 安装目标（可选） install(TARGETS hellonode   RUNTIME DESTINATION ${CATKIN_PACKAGE_BIN_DESTINATION} )`

---

## ✅ 六、编译与运行

### 编译：

`cd ~/catkin_ws catkin_make`

### 运行前设置环境变量：

`source devel/setup.bash`
